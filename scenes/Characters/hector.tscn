[gd_scene load_steps=12 format=3 uid="uid://jfvb7fj8qg3w"]

[ext_resource type="PackedScene" uid="uid://lsijrvmx3pif" path="res://scenes/Characters/character.tscn" id="1_j1bab"]
[ext_resource type="Script" uid="uid://dnbkv45ha2vyp" path="res://scenes/Characters/player.gd" id="2_i04uw"]
[ext_resource type="Texture2D" uid="uid://b663f1lr2228g" path="res://assets/tuto/art/characters/hectormaqueta2.png" id="2_j1bab"]
[ext_resource type="PackedScene" uid="uid://d0gqttf3he3mh" path="res://scenes/Characters/enemy_slot.tscn" id="4_67d5r"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_j1bab"]

[sub_resource type="Animation" id="Animation_67d5r"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visual/CharacterSprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_j1bab"]
resource_name = "attack"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visual/CharacterSprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [81]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.2),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"on_action_completed"
}]
}

[sub_resource type="Animation" id="Animation_i04uw"]
resource_name = "idle"
length = 3.0
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visual/CharacterSprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 1, 1.05, 1.1, 1.15, 1.2, 1.25, 1.3, 1.35, 1.4, 1.45, 1.5, 1.55, 1.6, 1.65, 1.7, 1.75, 1.8, 1.85, 1.9, 1.95, 2, 2.05, 2.1, 2.15, 2.2, 2.25, 2.3, 2.35, 2.4, 2.45, 2.5, 2.55, 2.6, 2.65, 2.7, 2.75, 2.8, 2.85, 2.9, 2.95, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 62]
}

[sub_resource type="Animation" id="Animation_16hvs"]
resource_name = "walk"
length = 1.25
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Visual/CharacterSprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [63, 64, 65, 66, 67, 68, 69, 70, 71, 72]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vmtc2"]
_data = {
&"RESET": SubResource("Animation_67d5r"),
&"attack": SubResource("Animation_j1bab"),
&"idle": SubResource("Animation_i04uw"),
&"walk": SubResource("Animation_16hvs")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_67d5r"]

[node name="Hector" instance=ExtResource("1_j1bab")]
collision_layer = 2
collision_mask = 9
script = ExtResource("2_i04uw")
max_health = 100
current_health = 100
speed = 100

[node name="SadowSprite" parent="." index="0"]
scale = Vector2(2, 2)

[node name="CollisionShape2D" parent="." index="1"]
scale = Vector2(1.08465, 0.16885)
shape = SubResource("RectangleShape2D_j1bab")

[node name="AnimationPlayer" parent="." index="2"]
libraries = {
&"": SubResource("AnimationLibrary_vmtc2")
}
autoplay = "idle"

[node name="CharacterSprite" parent="Visual" index="0"]
position = Vector2(-31, -64)
texture = ExtResource("2_j1bab")
centered = false
hframes = 25
vframes = 6

[node name="CollisionShape2D" parent="Visual/HitBoxes/Punch" index="0"]
shape = SubResource("RectangleShape2D_67d5r")

[node name="EnemySlot" type="Node2D" parent="." index="5"]

[node name="EnemySlot" parent="EnemySlot" index="0" instance=ExtResource("4_67d5r")]
position = Vector2(17, 5)

[node name="EnemySlot2" parent="EnemySlot" index="1" instance=ExtResource("4_67d5r")]
position = Vector2(16, -4)

[node name="EnemySlot3" parent="EnemySlot" index="2" instance=ExtResource("4_67d5r")]
position = Vector2(-16, -4)

[node name="EnemySlot4" parent="EnemySlot" index="3" instance=ExtResource("4_67d5r")]
position = Vector2(-17, 5)

[editable path="Visual/HitBoxes/Punch"]
[editable path="HurtBox"]
